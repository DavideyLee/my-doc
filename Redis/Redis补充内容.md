## Redis补充内容

### 数据有效期

* 通过expire指令可以为指定主键的Redis数据设置有效期。再次调用指令可以刷新有效期，否则数据将在指定时间内失效，无论这条数据在这段时间内是否被访问。
* Redis数据有效期是以指令执行时系统时间戳为基础实现的，因此修改系统时间后，有效时限也会发生变化。
* 主键失效可以通过主动和被动两种方式。
    * 当客户端访问超时主键时，就会触发主动失效。
    * 被动失效是通过定期随机抽取一些主键并检测的方式实现的。Redis被动失效机制：每100毫秒从设置有效期的主键中随机测试20个，并删除失效主键。如果超过25%的测试主键失效，则再次随机测试20个主键。